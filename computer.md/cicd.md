## 15. CI/CD
### 1. 개요
1. CI/CD는 애플리케이션 개발 단계를 자동화하여 애플리케이션을 더욱 짧은주기로 고객에게 제공하는 방법
2. CI/CD의 기본 개념은 지속적인 통합, 지속적인 서비스 제공, 지속적인 배포 입니다.
3. CI/CD는 새로운 코드 통합으로 인해 개발 및 운영팀에 발생하는 문제(통합 지옥 integration hell)를 해결하기 위한 솔루션입니다.
4. 특히 CI/CD는 애플리케이션의 통합 및 테스트 단계에서부터 제공 및 배포에 이르는 애플리케이션 라이프사이클 전체에 걸쳐 지속적인 자동화와 지속적인 모니터링을 제공합니다.
5. 이러한 구축 사례를 일반적으로 "CI/CD 파이프라인"이라 부르며, 개발 및 운영팀의 애자일 방식 협력을 통해 DevOps 또는 SRE(사이트 신뢰성 엔지니어링) 방식으로 지원됩니다.

### 2. CI와 CD의 차이점
1. CI는 개발자를 위한 자동화 프로세스인 지속적인 통합(Continuous Integration)을 의미한다.
2. 지속적인 통합이 제대로 구현되면 애플리케이션 코드의 새로운 변경 사항이 정기적으로 빌드 및 데스트를 거쳐 공유 리포지토리에 병합됩니다.
3. 따라서 여러 명의 개발자가 동시에 애플리케이션 개발과 관련된 코드 작업을 할 경우 서로 충돌하는 문제를 이 방법으로 해결 가능
4. CD는 지속적인 서비스 제공(Continuous Delivery)및 지속적인 배포(Continuous Deployment)를 의미하며 이 두 용어는 상호 교환하여 사용됩니다.
5. 두가지 의미 모두 파이프라인의 추가 단계에 대한 자동화를 뜻하짐나 때로는 얼마나 많은 자동화가 이루어지고 있는지를 설명하기위해 별도로 사용되기도 앖니다.
6. 지속적인 제공이란 개발자들이 애플리케이션에 적용한 변경 사랑이 버그 테스트를 거쳐 리포지토리(github, 컨테이너 레지스트리)에 자동으로 업로드 되는 것을 뜻하며, 운영팀은 이 레포지토리에서 애플리케이션을 실시간 프로덕션 환경으로 배포할 수 있습니다.
7. 이는 개발팀과 비즈니스팀 간의 가시성과 커뮤니케이션 부족 문제를 해결해 줍니다.
8. 그러므로 지속적인 서비스 제공은 최소한의 노력을 새로운 코드를 배포하는 것을 목표로 합니다.
9. 지속적인 배포란 개발자의 변경 사항을 리포지토리에서 고객이 사용가능한 프로덕션 환경까지 자동으로 릴리스하는 것을 의미합니다.
10. 이는 애플리케이션 제공 속도를 저해하는 수동 프로세스로 인한 운영팀의 프로세스 과부하를 해결합니다.
11. 지속적인 배포는 파이프라인의 다음 단계를 자동화함으로써 지속적인 서비스 제공의 장점을 활용합니다.
![이미지](https://www.redhat.com/cms/managed-files/styles/wysiwyg_full_width/s3/ci-cd-flow-desktop.png?itok=2EX0MpQZ)
12. CI/CD는 지속적 통합 및 지속적 제공의 구축 사례만을 지칭할 때도 있고, 지속적 통합, 지속적 제공, 지속적 배포라는 3가지 구축 사례를 모두 의미 하는 것일 수도 있습니다.
13. 결과적으로 CI/CD는 파이프라인으로 표현되는 실제 프로세스를 의미하고, 애플리케이션 개발에 지속적인 자동화 및 지속적인 모니터링을 추가하는 것을 의미

### 3. 지속적 통합
1. CI(지속적 통합)를 통해 개발자들은 코드 변경 사항을 공유 브랜치 또는 "트렁크"로 다시 병합하는 작업을 수월하게 자주 수행 가능
2. 개발자가 애플리케이션에 적용한 변경사항이 병합되면 이러한 변경사항이 애플리케이션을 손상 시키지 않도록 자동으로 애플리케이션을 구축하고 각기 다른 레벨의 자동화된 테스트 실행을 통해 변경사항이 애플리케이션에 제대로 적용되었는지 확인합니다.
3. 다시말해 클래스와 기능에서부터 전체 애플리케이션을 구성하는 서로 다른 모듈에 이르기까지 모든 것에 대한 테스트를 수행한다.

### 4. 지속적 제공
1. CI의 빌드 자동화, 유닛 및 통합 테스트 수행 후, 이어지는 지속적 제공 프로세스에서는 유효한 코드를 리포지토리에 자동으로 릴리스합니다.
2. 그러므로 효과적인 지속적 제공 프로세스를 실현하기 위해서는 개발 파이프 라인에 CI가 먼저 구축 되어 있어야 합니다.
3. 지속적 제공의 목표는 프로뎍션 환경으로 배포할 준비가 되어 있는 코드 베이스를 확보하는 것입니다.
4. 지속적 제공의 경우, 코드 변경 사항 병합 부터 프로덕션에 적합한 빌드 제공에 이르는 모든 단계에는 테스트 자동화와 코드 릴리스 자동화가 포함됩니다.

### 5. 지속적 배포
1. CI/CD 파이프라인의 마지막 단계는 지속적 배로입니다.
2. 프로덕션 준비가 완료된 빌드를 코드 리포지토리에 자동으로 릴리스하는 지속적 제공의 확장된 형태인 지속적 배포는 애플리케이션을 프로덕션으로 릴리스하는 작업을 자동화합니다.
3. 프로덕션 이전의 파이프라인 단계에서 수동 작업 과정이 없으므로, 지속적 배포가 제대로 이루어지려면 테스트 자동화가 제대로 설계되어 있어야 합니다.
4. 실제 사례에서 지속적 배포란 개발자가 애플리케이션 변경 사항을 작성한 후 몇분 이내에 클라우드 애플리케이션을 자동으로 실행할 수 있는 것을 의미(자동화된 테스트를 통과한 것으로 간주)
5. 이를 통해 사용자 피드백을 지속적으로 수신하고 통합하는 일이 훨씬 수월해집니다. 
6. 이러한 CI/CD 적용 사례는 애플리케이션 배포의 위험성을 줄여주므로 애플리케이션 변경 사항을 한 번에 모두 릴리스 하지 않고 작은 조각으로 세분화하여 더욱 손쉽게 릴리스 할 수 있습니다.
7. 그러나 자동화된 테스트는 CI/Cd 파이프라인의 여러 테스트 및 릴리스 단계를 수행할 수 있어야 하기 때문에 많은 선행 투자가 필요합니다.

### 6. 일반적인 CI/CD 툴
1. CI/CD 툴은 팀이 개발, 배포, 테스트를 자동화하도록 지원합니다.
2. 특히 통합(CI)특면을 다루는 툴도 있고, 개발 및 배포(CD)를 관리하는 툴도 있으며, 지속적인 테스트 또는 관련 기능에 특화된 툴도 있습니다.
3. Jenkins 자동화 서버
    1. CI/CD와 관련해 가장 널리 알려진 오픈소스 툴
4. Tekton Pipelines
    1. 표준 클라우드 네이티브 CI/CD 경험과 컨테이너를 제공하는 쿠버네티스 플랫폼을 위한 CI/CD 프레임 워크